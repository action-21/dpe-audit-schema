$schema: https://json-schema.org/draft/2020-12/schema
$id: https://schemas.dpe-audit.fr/audit
title: Audit
type: object
properties:
  id:
    title: Identifiant unique de l'audit au format UUID
    type: string
    format: uuid
    examples:
      - 4634c0b5-a515-4aa7-abc2-c6d6d81af75c
  date_etablissement:
    title: Date d'établissement
    type: string
    format: date
    examples:
      - '2025-01-01'
  adresse:
    $ref: '#/$defs/adresse'
  batiment:
    $ref: '#/$defs/batiment'
  logements:
    title: Liste des logements visités
    type: array
    items:
      $ref: /logement
  enveloppe:
    $ref: /enveloppe
  ventilation:
    $ref: /ventilation
  refroidissement:
    $ref: /refroidissement
  chauffage:
    $ref: /chauffage
  ecs:
    $ref: /ecs
  production:
    $ref: /production
required:
  - id
  - date_etablissement
  - adresse
  - batiment
  - logements
  - enveloppe
  - ventilation
  - chauffage
  - ecs
  - refroidissement
  - production
$defs:
  adresse:
    title: Adresse
    type: object
    properties:
      numero:
        title: Numéro
        type:
          - string
          - 'null'
        default: null
        examples:
          - '1'
      voie:
        title: Voie
        type: string
        examples:
          - rue de la Paix
      code_postal:
        title: Code postal
        type: string
        examples:
          - '75000'
      commune:
        title: Commune
        type: string
        examples:
          - Paris
      ban_id:
        title: Identifiant BAN
        type:
          - string
          - 'null'
        default: null
    required:
      - numero
      - voie
      - code_postal
      - commune
      - ban_id
  batiment:
    title: Bâtiment
    type: object
    properties:
      annee_construction:
        title: Année de construction
        type: integer
        examples:
          - 1975
      altitude:
        title: Altitude du bâtiment en m
        type: integer
        examples:
          - 500
      logements:
        title: Nombre de logements
        type: integer
        exclusiveMinimum: 0
        examples:
          - 1
      surface_habitable:
        title: Surface habitable en m²
        type: number
        exclusiveMinimum: 0
        examples:
          - 150
      hauteur_sous_plafond:
        title: Hauteur moyenne sous plafond en m
        type: number
        exclusiveMinimum: 0
        examples:
          - 2.8
      rnb_id:
        title: Identifiant RNB
        type:
          - string
          - 'null'
        default: null
    required:
      - annee_construction
      - altitude
      - logements
      - surface_habitable
      - hauteur_sous_plafond
      - rnb_id
  https://schemas.dpe-audit.fr/logement:
    $id: https://schemas.dpe-audit.fr/logement
    title: Logement
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - fe60b38b-674f-4e1d-9cc6-4123b7475353
      description:
        title: Description au format markdown
        type: string
        examples:
          - Un logement
      surface_habitable:
        title: Surface habitable en m²
        type: number
        examples:
          - 100
      hauteur_sous_plafond:
        title: Hauteur sous plafond moyenne en m
        type: number
        examples:
          - 2.5
      typologoie:
        title: Typologie du logement
        type: string
        enum:
          - t1
          - t2
          - t3
          - t4
          - t5
          - t6
          - t7
        examples:
          - t3
    required:
      - id
      - description
      - surface_habitable
      - hauteur_sous_plafond
      - typologoie
  https://schemas.dpe-audit.fr/enveloppe/local_non_chauffe/paroi:
    $id: https://schemas.dpe-audit.fr/enveloppe/local_non_chauffe/paroi
    title: Paroi
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - ff9008dc-f03e-4c1e-b523-5184ba1e63c6
      description:
        title: Description au format markdown
        type: string
        examples:
          - Paroi d'un local non chauffé donnant sur l'extérieur
      mitoyennete:
        title: Mitoyenneté
        type: string
        enum:
          - exterieur
          - enterre
          - vide_sanitaire
          - terre_plein
          - sous_sol_non_chauffe
          - local_non_chauffe
          - local_non_residentiel
          - local_residentiel
          - local_non_accessible
        examples:
          - exterieur
      surface:
        title: Surface de la paroi en m²
        type: number
        exclusiveMinimum: 0
        examples:
          - 10
      isolation:
        title: État d'isolation de la paroi
        type:
          - string
          - 'null'
        enum:
          - isole
          - non_isole
          - null
        examples:
          - non_isole
    required:
      - id
      - description
      - mitoyennete
      - surface
      - isolation
  https://schemas.dpe-audit.fr/enveloppe/local_non_chauffe/baie:
    $id: https://schemas.dpe-audit.fr/enveloppe/local_non_chauffe/baie
    title: Baie
    type: object
    properties:
      id:
        title: Identifiant unique format UUID
        type: string
        format: uuid
        examples:
          - e5177740-3927-478a-ab69-8f673ec4d073
      description:
        title: Description au format markdown
        type: string
        examples:
          - Baie d'un local non chauffé donnant sur l'extérieur
      type_baie:
        title: Type de baie
        type: string
        enum:
          - polycarbonate
          - fenetre_battante
          - fenetre_coulissante
          - porte_fenetre_coulissante
          - porte_fenetre_battante
      position:
        $ref: '#/$defs/position'
    required:
      - id
      - description
      - type_baie
      - position
    oneOf:
      - title: Baie en polycarbonate
        type: object
        properties:
          type_baie:
            const: polycarbonate
        required:
          - type_baie
      - title: Autres cas
        type: object
        properties:
          type_baie:
            not:
              const: polycarbonate
          materiau:
            title: Matériau de la baie
            type:
              - string
              - 'null'
            enum:
              - pvc
              - bois
              - bois_metal
              - metal
              - null
            default: null
            examples:
              - pvc
          type_vitrage:
            title: Type de vitrage
            type:
              - string
              - 'null'
            enum:
              - simple_vitrage
              - double_vitrage
              - double_vitrage_fe
              - triple_vitrage
              - triple_vitrage_fe
              - null
            default: null
            examples:
              - simple_vitrage
          presence_rupteur_pont_thermique:
            title: Présence d'un rupteur de pont thermique
            type:
              - boolean
              - 'null'
            default: null
            examples:
              - false
        required:
          - type_baie
          - materiau
          - type_vitrage
          - presence_rupteur_pont_thermique
    $defs:
      position:
        title: Position de la baie
        type: object
        properties:
          paroi_id:
            title: Identifiant unique de la paroi associée au format UUID
            type:
              - string
              - 'null'
            format: uuid
            default: null
            examples:
              - ff9008dc-f03e-4c1e-b523-5184ba1e63c6
          surface:
            title: Surface totale en m²
            type: number
            exclusiveMinimum: 0
            examples:
              - 10
          mitoyennete:
            title: Mitoyenneté
            type: string
            enum:
              - exterieur
              - enterre
              - vide_sanitaire
              - terre_plein
              - sous_sol_non_chauffe
              - local_non_chauffe
              - local_non_residentiel
              - local_residentiel
              - local_non_accessible
            examples:
              - exterieur
          inclinaison:
            title: Inclinaison par rapport à l'horizontal en °
            type: number
            minimum: 0
            maximum: 90
            examples:
              - 90
        required:
          - surface
          - mitoyennete
          - inclinaison
          - orientation
        oneOf:
          - title: Baie horizontale
            type: object
            properties:
              inclinaison:
                const: 0
              orientation:
                const: null
                default: null
            required:
              - inclinaison
              - orientation
          - title: Autres cas
            type: object
            properties:
              inclinaison:
                minimumExlusive: 0
              orientation:
                title: Orientation par rapport au nord en °
                type: number
                minimum: 0
                exclusiveMaximum: 360
                examples:
                  - 0
            required:
              - inclinaison
              - orientation
  https://schemas.dpe-audit.fr/enveloppe/local_non_chauffe:
    $id: https://schemas.dpe-audit.fr/enveloppe/local_non_chauffe
    title: Local non chauffé
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - 30972a71-398f-4eb9-a902-0a6665d94a4f
      description:
        title: Description au format markdown
        type: string
        examples:
          - Un local non chauffé
      type:
        title: Type
        type: string
        enum:
          - garage
          - cellier
          - espace_tampon_solarise
          - comble_fortement_ventile
          - comble_faiblement_ventile
          - comble_tres_faiblement_ventile
          - circulation_sans_ouverture_exterieure
          - circulation_avec_ouverture_exterieure
          - circulation_avec_bouche_ou_gaine_desenfumage_ouverte
          - hall_entree_avec_fermeture_automatique
          - hall_entree_sans_fermeture_automatique
          - garage_collectif
          - autres
        examples:
          - espace_tampon_solarise
      parois:
        title: Liste des parois
        type: array
        minContains: 1
        items:
          oneOf:
            - $ref: /enveloppe/local_non_chauffe/paroi
            - $ref: /enveloppe/local_non_chauffe/baie
    required:
      - id
      - description
      - type
      - parois
  https://schemas.dpe-audit.fr/enveloppe/mur:
    $id: https://schemas.dpe-audit.fr/enveloppe/mur
    title: Mur
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - 3fa85f64-5717-4562-b3fc-2c963f66afa6
      description:
        title: Description au format markdown
        type: string
        examples:
          - Un mur
      type_structure:
        title: Type de mur
        type:
          - string
          - 'null'
        enum:
          - pierre_moellons
          - pierre_moellons_avec_remplissage
          - pise_ou_beton_terre
          - pan_bois_sans_remplissage
          - pan_bois_avec_remplissage
          - bois_rondin
          - brique_pleine_simple
          - brique_pleine_double_avec_lame_air
          - brique_creuse
          - bloc_beton_plein
          - bloc_beton_creux
          - beton_banche
          - beton_machefer
          - brique_terre_cuite_alveolaire
          - sandwich_beton_isolant_beton_sans_isolation_rapportee
          - cloison_platre
          - ossature_bois_sans_remplissage
          - ossature_bois_avec_remplissage_tout_venant
          - ossature_bois_avec_remplissage_isolant
          - null
        default: null
        examples:
          - brique_pleine_simple
      epaisseur_structure:
        title: Epaisseur du mur non isolé en mm
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 200
      type_doublage:
        title: Type de doublage
        type:
          - string
          - 'null'
        enum:
          - sans_doublage
          - indetermine
          - lame_air_inferieur_15mm
          - lame_air_superieur_15mm
          - materiaux_connu
          - null
        default: null
        examples:
          - indetermine
      presence_enduit_isolant:
        title: Présence d'un enduit isolant
        type:
          - boolean
          - 'null'
        default: null
        examples:
          - false
      paroi_ancienne:
        title: Mur constitué de matériaux anciens
        type:
          - boolean
          - 'null'
        default: null
        examples:
          - false
      inertie:
        title: État d'inertie
        type:
          - string
          - 'null'
        enum:
          - lourde
          - legere
          - null
        default: null
        examples:
          - lourde
      annee_construction:
        title: Année de construction
        type:
          - integer
          - 'null'
        default: null
        examples:
          - 2000
      annee_renovation:
        title: Année de dernière rénovation connue et justifiée
        type:
          - integer
          - 'null'
        default: null
        examples:
          - 2010
      u0:
        title: >-
          Coefficient de transmission thermique connu et justifié du mur non
          isolé en W/m²K
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 3.8
      u:
        title: Coefficient de transmission thermique connu et justifié en W/m²K
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 1.4
      position:
        $ref: '#/$defs/position'
      isolation:
        $ref: '#/$defs/isolation'
    required:
      - id
      - description
      - type_structure
      - epaisseur_structure
      - type_doublage
      - presence_enduit_isolant
      - paroi_ancienne
      - inertie
      - annee_construction
      - annee_renovation
      - u0
      - u
      - position
      - isolation
    $defs:
      position:
        title: Position
        type: object
        properties:
          surface:
            title: Surface totale en m²
            type: number
            exclusiveMinimum: 0
            examples:
              - 100
          mitoyennete:
            title: Mitoyenneté
            type: string
            enum:
              - exterieur
              - enterre
              - vide_sanitaire
              - terre_plein
              - sous_sol_non_chauffe
              - local_non_chauffe
              - local_non_residentiel
              - local_residentiel
              - local_non_accessible
            examples:
              - local_non_chauffe
          orientation:
            title: Orientation en degré par rapport au nord
            type:
              - number
              - 'null'
            minimum: 0
            exclusiveMaximum: 360
            default: null
            examples:
              - 90
        required:
          - surface
          - mitoyennete
          - orientation
        oneOf:
          - title: Mur donnant sur un local non chauffé
            type: object
            properties:
              mitoyennete:
                const: local_non_chauffe
              local_non_chauffe_id:
                title: Identifiant du local non chauffé associé au mur
                type: string
                format: uuid
                examples:
                  - 30972a71-398f-4eb9-a902-0a6665d94a4f
            required:
              - local_non_chauffe_id
              - mitoyennete
          - title: Autres cas
            type: object
            properties:
              mitoyennete:
                not:
                  const: local_non_chauffe
            required:
              - mitoyennete
      isolation:
        title: Isolation
        type: object
        properties:
          etat_isolation:
            title: Etat d'isolation
            type:
              - string
              - 'null'
            enum:
              - isole
              - non_isole
              - null
            examples:
              - isole
        required:
          - etat_isolation
        oneOf:
          - title: Mur isolé
            type: object
            properties:
              etat_isolation:
                const: isole
              type_isolation:
                title: Type d'isolation
                type:
                  - string
                  - 'null'
                enum:
                  - iti
                  - ite
                  - itr
                  - iti_ite
                  - itr_iti
                  - itr_ite
                  - itr_iti_ite
                  - null
                default: null
                examples:
                  - iti
              annee_isolation:
                title: Année d'isolation
                type:
                  - integer
                  - 'null'
                default: null
                examples:
                  - 2000
              epaisseur_isolation:
                title: Epaisseur de l'isolation en mm
                type:
                  - number
                  - 'null'
                exclusiveMinimum: 0
                default: null
                examples:
                  - 200
              resistance_thermique_isolation:
                title: Résistance thermique de l'isolation en m².K/W
                type:
                  - number
                  - 'null'
                exclusiveMinimum: 0
                default: null
                examples:
                  - 5.5
            required:
              - etat_isolation
              - type_isolation
              - annee_isolation
              - epaisseur_isolation
              - resistance_thermique_isolation
          - title: Mur non isolé ou dont l'isolation n'est pas connue
            type: object
            properties:
              etat_isolation:
                enum:
                  - non_isole
                  - null
            required:
              - etat_isolation
  https://schemas.dpe-audit.fr/enveloppe/plancher_bas:
    $id: https://schemas.dpe-audit.fr/enveloppe/plancher_bas
    title: Plancher bas
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - ecd4cd8f-7f2b-4427-9d94-b1ed5da33711
      description:
        title: Description au format markdown
        type: string
        examples:
          - Un plancher bas
      type_structure:
        title: Type de plancher bas
        type:
          - string
          - 'null'
        enum:
          - plancher_avec_ou_sans_remplissage
          - plancher_entre_solives_metalliques
          - plancher_entre_solives_bois
          - plancher_bois_sur_solives_metalliques
          - bardeaux_et_remplissage
          - voutains_sur_solives_metalliques
          - voutains_briques_ou_moellons
          - dalle_beton
          - plancher_bois_sur_solives_bois
          - plancher_lourd_type_entrevous_terre_cuite_ou_poutrelles_beton
          - plancher_entrevous_isolant
          - null
        default: null
        examples:
          - dalle_beton
      inertie:
        title: État d'inertie
        type:
          - string
          - 'null'
        enum:
          - lourde
          - legere
          - null
        default: null
        examples:
          - lourde
      annee_construction:
        title: Année de construction
        type:
          - integer
          - 'null'
        default: null
        examples:
          - 2000
      annee_renovation:
        title: Année de dernière rénovation connue et justifiée
        type:
          - integer
          - 'null'
        default: null
        examples:
          - 2010
      u0:
        title: >-
          Coefficient de transmission thermique connu et justifié du plancher
          bas non isolé en W/m²K
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 3.8
      u:
        title: Coefficient de transmission thermique connu et justifié en W/m²K
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 1.4
      position:
        $ref: '#/$defs/position'
      isolation:
        $ref: '#/$defs/isolation'
    required:
      - id
      - description
      - type_structure
      - inertie
      - annee_construction
      - annee_renovation
      - u0
      - u
      - position
      - isolation
    $defs:
      position:
        title: Position
        type: object
        properties:
          surface:
            title: Surface totale exprimée en m²
            type: number
            exclusiveMinimum: 0
            examples:
              - 100
          perimetre:
            title: Périmètre en m
            type: number
            exclusiveMinimum: 0
            examples:
              - 40
          mitoyennete:
            title: Mitoyenneté
            type: string
            enum:
              - exterieur
              - enterre
              - vide_sanitaire
              - terre_plein
              - sous_sol_non_chauffe
              - local_non_chauffe
              - local_non_residentiel
              - local_residentiel
              - local_non_accessible
            examples:
              - local_non_chauffe
        required:
          - perimetre
          - surface
          - mitoyennete
        oneOf:
          - title: Plancher bas donnant sur un local non chauffé
            type: object
            properties:
              mitoyennete:
                const: local_non_chauffe
              local_non_chauffe_id:
                title: Identifiant du local non chauffé associé au plancher bas
                type: string
                format: uuid
                examples:
                  - 30972a71-398f-4eb9-a902-0a6665d94a4f
            required:
              - local_non_chauffe_id
              - mitoyennete
          - title: Autres cas
            type: object
            properties:
              mitoyennete:
                not:
                  const: local_non_chauffe
            required:
              - mitoyennete
      isolation:
        title: Isolation
        type: object
        properties:
          etat_isolation:
            title: Etat d'isolation
            type:
              - string
              - 'null'
            enum:
              - isole
              - non_isole
              - null
            examples:
              - isole
        required:
          - etat_isolation
        oneOf:
          - title: Plancher bas isolé
            type: object
            properties:
              etat_isolation:
                const: isole
              type_isolation:
                title: Type d'isolation
                type:
                  - string
                  - 'null'
                enum:
                  - iti
                  - ite
                  - itr
                  - iti_ite
                  - itr_iti
                  - itr_ite
                  - itr_iti_ite
                  - null
                default: null
                examples:
                  - iti
              annee_isolation:
                title: Année d'isolation
                type:
                  - integer
                  - 'null'
                default: null
                examples:
                  - 2000
              epaisseur_isolation:
                title: Epaisseur de l'isolation en mm
                type:
                  - number
                  - 'null'
                exclusiveMinimum: 0
                default: null
                examples:
                  - 200
              resistance_thermique_isolation:
                title: Résistance thermique de l'isolation en m².K/W
                type:
                  - number
                  - 'null'
                exclusiveMinimum: 0
                default: null
                examples:
                  - 5.5
            required:
              - etat_isolation
              - type_isolation
              - annee_isolation
              - epaisseur_isolation
              - resistance_thermique_isolation
          - title: Plancher bas non isolé ou dont l'isolation n'est pas connue
            type: object
            properties:
              etat_isolation:
                enum:
                  - non_isole
                  - null
            required:
              - etat_isolation
  https://schemas.dpe-audit.fr/enveloppe/plancher_haut:
    $id: https://schemas.dpe-audit.fr/enveloppe/plancher_haut
    title: Plancher haut
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - ecd4cd8f-7f2b-4427-9d94-b1ed5da33711
      description:
        title: Description au format markdown
        type: string
        examples:
          - Un plancher haut
      configuration:
        title: Configuration
        type:
          - string
          - 'null'
        enum:
          - combles_perdus
          - rampants
          - terrasse
          - null
        default: null
        examples:
          - combles_perdus
      type_structure:
        title: Type de plancher haut
        type:
          - string
          - 'null'
        enum:
          - plafond_avec_ou_sans_remplissage
          - plafond_entre_solives_metalliques
          - plafond_entre_solives_bois
          - plafond_bois_sur_solives_metalliques
          - plafond_bois_sous_solives_metalliques
          - bardeaux_et_remplissage
          - plafond_bois_sur_solives_bois
          - plafond_bois_sous_solives_bo
          - dalle_beton
          - plafond_lourd
          - combles_amenages_sous_rampant
          - toiture_chaume
          - plafond_patre
          - bac_acier
          - null
        default: null
        examples:
          - dalle_beton
      inertie:
        title: État d'inertie
        type:
          - string
          - 'null'
        enum:
          - lourde
          - legere
          - null
        default: null
        examples:
          - lourde
      annee_construction:
        title: Année de construction
        type:
          - integer
          - 'null'
        default: null
        examples:
          - 2000
      annee_renovation:
        title: Année de dernière rénovation connue et justifiée
        type:
          - integer
          - 'null'
        default: null
        examples:
          - 2010
      u0:
        title: >-
          Coefficient de transmission thermique connu et justifié du plancher
          haut non isolé en W/m²K
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 3.8
      u:
        title: Coefficient de transmission thermique connu et justifié en W/m²K
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 1.4
      position:
        $ref: '#/$defs/position'
      isolation:
        $ref: '#/$defs/isolation'
    required:
      - id
      - description
      - configuration
      - type_structure
      - inertie
      - annee_construction
      - annee_renovation
      - u0
      - u
      - position
      - isolation
    $defs:
      position:
        title: Position
        type: object
        properties:
          surface:
            title: Surface totale exprimée en m²
            type: number
            exclusiveMinimum: 0
            examples:
              - 100
          mitoyennete:
            title: Mitoyenneté
            type: string
            enum:
              - exterieur
              - enterre
              - vide_sanitaire
              - terre_plein
              - sous_sol_non_chauffe
              - local_non_chauffe
              - local_non_residentiel
              - local_residentiel
              - local_non_accessible
            examples:
              - local_non_chauffe
          orientation:
            title: Orientation en degré par rapport au nord
            type:
              - number
              - 'null'
            minimum: 0
            exclusiveMaximum: 360
            default: null
            examples:
              - 90
        required:
          - surface
          - mitoyennete
          - orientation
        oneOf:
          - title: Plancher haut donnant sur un local non chauffé
            type: object
            properties:
              mitoyennete:
                const: local_non_chauffe
              local_non_chauffe_id:
                title: Identifiant du local non chauffé associé au plancher haut
                type: string
                format: uuid
                examples:
                  - 30972a71-398f-4eb9-a902-0a6665d94a4f
            required:
              - local_non_chauffe_id
              - mitoyennete
          - title: Autres cas
            type: object
            properties:
              mitoyennete:
                not:
                  const: local_non_chauffe
            required:
              - mitoyennete
      isolation:
        title: Isolation
        type: object
        properties:
          etat_isolation:
            title: Etat d'isolation
            type:
              - string
              - 'null'
            enum:
              - isole
              - non_isole
              - null
            examples:
              - isole
        required:
          - etat_isolation
        oneOf:
          - title: Plancher haut isolé
            type: object
            properties:
              etat_isolation:
                const: isole
              type_isolation:
                title: Type d'isolation
                type:
                  - string
                  - 'null'
                enum:
                  - iti
                  - ite
                  - itr
                  - iti_ite
                  - itr_iti
                  - itr_ite
                  - itr_iti_ite
                  - null
                default: null
                examples:
                  - iti
              annee_isolation:
                title: Année d'isolation
                type:
                  - integer
                  - 'null'
                default: null
                examples:
                  - 2000
              epaisseur_isolation:
                title: Epaisseur de l'isolation en mm
                type:
                  - number
                  - 'null'
                exclusiveMinimum: 0
                default: null
                examples:
                  - 200
              resistance_thermique_isolation:
                title: Résistance thermique de l'isolation en m².K/W
                type:
                  - number
                  - 'null'
                exclusiveMinimum: 0
                default: null
                examples:
                  - 5.5
            required:
              - etat_isolation
              - type_isolation
              - annee_isolation
              - epaisseur_isolation
              - resistance_thermique_isolation
          - title: Plancher haut non isolé ou dont l'isolation n'est pas connue
            type: object
            properties:
              etat_isolation:
                enum:
                  - non_isole
                  - null
            required:
              - etat_isolation
  https://schemas.dpe-audit.fr/enveloppe/baie/masque_lointain:
    $id: https://schemas.dpe-audit.fr/enveloppe/baie/masque_lointain
    title: Masque lointain
    type: object
    properties:
      description:
        title: Description du masque lointain
        type: string
        examples:
          - Masque lointain homogène
      type_masque:
        title: Type de masque
        type: string
        const: masque_lointain
        default: masque_lointain
      type_masque_lointain:
        title: Type de masque lointain
        type: string
        enum:
          - homogene
          - non_homogene
        examples:
          - homogene
      hauteur:
        title: Hauteur du masque lointain en angle
        type: number
        exlusiveMinimum: 0
        exclusiveMaximum: 80
      orientation:
        title: Orientation du masque lointain par rapport au nord en angle
        type: number
        minimum: 0
        exclusiveMaximum: 360
    required:
      - description
      - type_masque
      - type_masque_lointain
      - hauteur
      - orientation
  https://schemas.dpe-audit.fr/enveloppe/baie/masque_proche:
    $id: https://schemas.dpe-audit.fr/enveloppe/baie/masque_proche
    title: Masque proche
    type: object
    properties:
      description:
        title: Description au format mardkown
        type: string
        examples:
          - Un masque proche
      type_masque:
        title: Type de masque
        type: string
        const: masque_proche
        default: masque_proche
      type_masque_proche:
        title: Type de masque proche
        type: string
        enum:
          - fond_balcon
          - fond_et_flanc_loggias
          - balcon_ou_auvent
          - paroi_laterale_sans_obstacle_au_sud
          - paroi_laterale_avec_obstacle_au_sud
        examples:
          - fond_balcon
    required:
      - description
      - type_masque
      - type_masque_proche
    oneOf:
      - title: Paroi latérale
        type: object
        properties:
          type_masque_proche:
            enum:
              - paroi_laterale_sans_obstacle_au_sud
              - paroi_laterale_avec_obstacle_au_sud
        required:
          - type_masque_proche
      - title: Autres masques proches
        type: object
        properties:
          type_masque_proche:
            enum:
              - fond_balcon
              - fond_et_flanc_loggias
              - balcon_ou_auvent
          profondeur:
            title: Profondeur du masque en m
            type: number
            exclusiveMinimum: 0
            examples:
              - 1.5
        required:
          - type_masque_proche
          - profondeur
  https://schemas.dpe-audit.fr/enveloppe/baie:
    $id: https://schemas.dpe-audit.fr/enveloppe/baie
    title: Baie
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - 6bc71c8d-11fa-4f36-b40b-b75ddbedf5d5
      description:
        title: Description au format markdown
        type: string
        examples:
          - Une fenêtre en PVC simple vitrage
      type_baie:
        $ref: '#/$defs/typeBaie'
      presence_protection_solaire:
        title: Présence de protection solaire
        type: boolean
        examples:
          - false
      type_fermeture:
        title: Type de fermeture
        type: string
        enum:
          - sans_fermeture
          - jalousie_accordeon
          - fermeture_lames_orientables
          - venitiens_exterieurs_metal
          - volet_battant_avec_ajours_fixes
          - persiennes_avec_ajours_fixes
          - fermeture_sans_ajours
          - volets_roulants_aluminium
          - volets_roulants_pvc_bois_epaisseur_lte_12_mm
          - volets_roulants_pvc_bois_epaisseur_gt_12_mm
          - persienne_coulissante_epaisseur_lte_22_mm
          - persienne_coulissante_epaisseur_gt_22_mm
          - volet_battant_pvc_bois_epaisseur_lte_22_mm
          - volet_battant_pvc_bois_epaisseur_gt_22_mm
          - fermeture_isolee_sans_ajours
        examples:
          - volet_battant_pvc_bois_epaisseur_lte_22_mm
      annee_installation:
        title: Année d'installation
        type:
          - integer
          - 'null'
        default: null
        examples:
          - 2000
      ug:
        $ref: '#/$defs/ug'
      uw:
        $ref: '#/$defs/uw'
      ujn:
        $ref: '#/$defs/ujn'
      sw:
        $ref: '#/$defs/sw'
      position:
        $ref: '#/$defs/position'
      double_fenetre:
        title: Double fenêtre
        type:
          - object
          - 'null'
        oneOf:
          - $ref: '#/$defs/doubleFenetre'
          - const: null
      masques:
        title: Liste des masques
        type: array
        items:
          oneOf:
            - $ref: /enveloppe/baie/masque_lointain
            - $ref: /enveloppe/baie/masque_proche
    required:
      - id
      - description
      - type_baie
      - presence_protection_solaire
      - type_fermeture
      - annee_installation
      - ug
      - uw
      - ujn
      - sw
      - position
      - double_fenetre
      - masques
    oneOf:
      - title: Paroi vitrée
        type: object
        properties:
          type_baie:
            enum:
              - brique_verre_pleine
              - brique_verre_creuse
              - polycarbonate
        required:
          - type_baie
      - title: Fenêtre
        type: object
        properties:
          type_baie:
            enum:
              - fenetre_battante
              - fenetre_coulissante
          type_pose:
            title: Type de pose
            type: string
            enum:
              - nu_exterieur
              - nu_interieur
              - tunnel
            examples:
              - nu_interieur
          materiau:
            title: Matériau
            type:
              - string
              - 'null'
            enum:
              - pvc
              - bois
              - bois_metal
              - metal
              - null
            default: null
            examples:
              - pvc
          vitrage:
            $ref: '#/$defs/vitrage'
          menuiserie:
            $ref: '#/$defs/menuiserie'
        required:
          - type_baie
          - type_pose
          - materiau
          - vitrage
          - menuiserie
      - title: Porte fenêtre
        type: object
        properties:
          type_baie:
            enum:
              - porte_fenetre_coulissante
              - porte_fenetre_battante
          type_pose:
            title: Type de pose
            type: string
            enum:
              - nu_exterieur
              - nu_interieur
              - tunnel
            examples:
              - nu_interieur
          materiau:
            title: Matériau
            type:
              - string
              - 'null'
            enum:
              - pvc
              - bois
              - bois_metal
              - metal
              - null
            default: null
            examples:
              - pvc
          presence_soubassement:
            title: Présence d'un soubassement
            type: boolean
            examples:
              - false
          vitrage:
            $ref: '#/$defs/vitrage'
          menuiserie:
            $ref: '#/$defs/menuiserie'
        required:
          - type
          - type_pose
          - materiau
          - presence_soubassement
          - vitrage
          - menuiserie
    $defs:
      typeBaie:
        title: Type de baie
        type: string
        enum:
          - brique_verre_pleine
          - brique_verre_creuse
          - polycarbonate
          - fenetre_battante
          - fenetre_coulissante
          - porte_fenetre_coulissante
          - porte_fenetre_battante
        examples:
          - fenetre_battante
      ug:
        title: >-
          Coefficient de transmission thermique du vitrage connu et justifié en
          W/m²K
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 2.5
      uw:
        title: >-
          Coefficient de transmission thermique de la baie connu et justifié en
          W/m²K
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 2.5
      ujn:
        title: >-
          Coefficient de transmission thermique de la baie avec fermeture connu
          et justifié en W/m²K
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 2.5
      sw:
        title: Proportion d'énergie solaire transmise par la baie en %
        type:
          - number
          - 'null'
        minimum: 0
        maximum: 100
        default: null
        examples:
          - 80
      position:
        title: Position de la baie
        type: object
        properties:
          paroi_id:
            title: Identifiant de la paroi associée à la baie
            type:
              - string
              - 'null'
            format: uuid
            default: null
            examples:
              - 6e2f8aea-2215-40c5-bb17-bf1c400ec2e9
          surface:
            title: Surface de la baie en m²
            type: number
            minimum: 0
            examples:
              - 3
          mitoyennete:
            title: Mitoyenneté de la baie
            type: string
            enum:
              - exterieur
              - enterre
              - vide_sanitaire
              - terre_plein
              - sous_sol_non_chauffe
              - local_non_chauffe
              - local_non_residentiel
              - local_residentiel
              - local_non_accessible
            examples:
              - local_non_chauffe
          inclinaison:
            title: Inclinaison de la baie par rapport à l'horizontale en degré
            type: number
            minimum: 0
            maximum: 90
            examples:
              - 90
          orientation:
            title: Orientation de la baie en degré par rapport au nord
            type:
              - number
              - 'null'
            minimum: 0
            exclusiveMaximum: 360
            examples:
              - 0
        required:
          - paroi_id
          - surface
          - mitoyennete
          - inclinaison
          - orientation
        allOf:
          - oneOf:
              - title: Baie donnant sur un local non chauffé
                type: object
                properties:
                  mitoyennete:
                    const: local_non_chauffe
                  local_non_chauffe_id:
                    title: Identifiant du local non chauffé associé à la baie
                    type: string
                    format: uuid
                    examples:
                      - 30972a71-398f-4eb9-a902-0a6665d94a4f
                required:
                  - local_non_chauffe_id
                  - mitoyennete
              - title: Autres cas
                type: object
                properties:
                  mitoyennete:
                    not:
                      const: local_non_chauffe
                required:
                  - mitoyennete
          - oneOf:
              - title: Baie horizontale
                type: object
                properties:
                  inclinaison:
                    const: 0
                  orientation:
                    const: null
                    default: null
                required:
                  - inclinaison
                  - orientation
              - title: Autres cas
                type: object
                properties:
                  inclinaison:
                    minimumExlusive: 0
                  orientation:
                    title: Orientation par rapport au nord en °
                    type: number
                    minimum: 0
                    exclusiveMaximum: 360
                    examples:
                      - 0
                required:
                  - inclinaison
                  - orientation
      menuiserie:
        title: Menuiserie
        type: object
        properties:
          largeur_dormant:
            title: Largeur dormant en mm
            type:
              - number
              - 'null'
            exclusiveMinimum: 0
            default: null
            examples:
              - 60
          presence_joint:
            title: Présence de joint d'étanchéité
            type:
              - boolean
              - 'null'
            default: null
            examples:
              - true
          presence_retour_isolation:
            title: Présence d'un retour d'isolation
            type:
              - boolean
              - 'null'
            default: null
            examples:
              - true
          presence_rupteur_pont_thermique:
            title: Présence d'un rupteur de pont thermique
            type:
              - boolean
              - 'null'
            default: null
            examples:
              - true
        required:
          - largeur_dormant
          - presence_joint
          - presence_retour_isolation
          - presence_rupteur_pont_thermique
      vitrage:
        title: Vitrage
        type: object
        properties:
          type_vitrage:
            title: Type de vitrage
            type:
              - string
              - 'null'
            enum:
              - simple_vitrage
              - double_vitrage
              - double_vitrage_fe
              - triple_vitrage
              - triple_vitrage_fe
              - null
            default: null
            examples:
              - simple_vitrage
          survitrage:
            title: Survitrage
            type:
              - object
              - 'null'
            oneOf:
              - $ref: '#/$defs/survitrage'
              - const: 'null'
        required:
          - type_vitrage
          - survitrage
        oneOf:
          - title: Vitrage simple
            properties:
              type_vitrage:
                const: simple_vitrage
            required:
              - type_vitrage
          - title: Vitrage complexe
            properties:
              type_vitrage:
                not:
                  const: simple_vitrage
              nature_gaz_lame:
                title: Nature de la lame d'air
                type:
                  - string
                  - 'null'
                enum:
                  - air
                  - argon
                  - krypton
                  - null
                default: null
                examples:
                  - argon
              epaisseur_lame:
                title: Epaisseur de la lame d'air en mm
                type:
                  - number
                  - 'null'
                exclusiveMinimum: 0
                default: null
                examples:
                  - 12
            required:
              - type_vitrage
              - nature_lame
              - epaisseur_lame
      survitrage:
        title: Survitrage
        type: object
        properties:
          type_survitrage:
            title: Type de survitrage
            type:
              - string
              - 'null'
            enum:
              - survitrage_simple
              - survitrage_fe
              - null
            default: null
            examples:
              - survitrage_simple
          epaisseur_lame:
            title: Epaisseur de la lame d'air en mm
            type:
              - number
              - 'null'
            minimum: 0
            default: null
            examples:
              - 12
        required:
          - type_survitrage
          - epaisseur_lame
      doubleFenetre:
        title: Double fenêtre
        type: object
        properties:
          type_baie:
            $ref: '#/$defs/typeBaie'
          ug:
            $ref: '#/$defs/ug'
          uw:
            $ref: '#/$defs/uw'
          sw:
            $ref: '#/$defs/sw'
        required:
          - type_baie
          - ug
          - uw
          - sw
        oneOf:
          - title: Paroi vitrée
            type: object
            properties:
              type_baie:
                enum:
                  - brique_verre_pleine
                  - brique_verre_creuse
                  - polycarbonate
            required:
              - type_baie
          - title: Fenêtre
            type: object
            properties:
              type_baie:
                enum:
                  - fenetre_battante
                  - fenetre_coulissante
              type_pose:
                title: Type de pose
                type: string
                enum:
                  - nu_exterieur
                  - nu_interieur
                  - tunnel
                examples:
                  - nu_interieur
              materiau:
                title: Matériau
                type:
                  - string
                  - 'null'
                enum:
                  - pvc
                  - bois
                  - bois_metal
                  - metal
                  - null
                default: null
                examples:
                  - pvc
              vitrage:
                $ref: '#/$defs/vitrage'
              menuiserie:
                $ref: '#/$defs/menuiserie'
            required:
              - type_baie
              - type_pose
              - materiau
              - vitrage
              - menuiserie
          - title: Porte fenêtre
            type: object
            properties:
              type_baie:
                enum:
                  - porte_fenetre_coulissante
                  - porte_fenetre_battante
              type_pose:
                title: Type de pose
                type: string
                enum:
                  - nu_exterieur
                  - nu_interieur
                  - tunnel
                examples:
                  - nu_interieur
              materiau:
                title: Matériau
                type:
                  - string
                  - 'null'
                enum:
                  - pvc
                  - bois
                  - bois_metal
                  - metal
                  - null
                default: null
                examples:
                  - pvc
              presence_soubassement:
                title: Présence d'un soubassement
                type: boolean
                examples:
                  - false
              vitrage:
                $ref: '#/$defs/vitrage'
              menuiserie:
                $ref: '#/$defs/menuiserie'
            required:
              - type
              - type_pose
              - materiau
              - presence_soubassement
              - vitrage
              - menuiserie
  https://schemas.dpe-audit.fr/enveloppe/porte:
    $id: https://schemas.dpe-audit.fr/enveloppe/porte
    title: Porte
    type: object
    properties:
      id:
        title: Identifiant unique de la porte au format UUID
        type: string
        format: uuid
        examples:
          - 6bc71c8d-11fa-4f36-b40b-b75ddbedf5d5
      description:
        title: Description de la porte au format markdown
        type: string
        examples:
          - Porte d'entrée
      type_pose:
        title: Type de pose
        type: string
        enum:
          - nu_exterieur
          - nu_interieur
          - tunnel
        examples:
          - nu_interieur
      isolation:
        title: État d'isolation de la porte
        type:
          - string
          - 'null'
        enum:
          - isole
          - non_isole
          - null
        default: null
        examples:
          - isole
      materiau:
        title: Matériau de la porte
        type:
          - string
          - 'null'
        enum:
          - pvc
          - bois
          - bois_metal
          - metal
          - null
        default: null
        examples:
          - pvc
      presence_sas:
        title: Présence d'un sas devant la porte
        type: boolean
        examples:
          - false
      annee_installation:
        title: Année d'installation
        type:
          - integer
          - 'null'
        default: null
        examples:
          - 2000
      u:
        title: >-
          Coefficient de transmission thermique de la porte connu et justifié en
          W/m²K
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 2.5
      position:
        $ref: '#/$defs/position'
      menuiserie:
        $ref: '#/$defs/menuiserie'
      vitrage:
        $ref: '#/$defs/vitrage'
    required:
      - id
      - description
      - type_pose
      - isolation
      - materiau
      - presence_sas
      - annee_installation
      - u
      - position
      - vitrage
      - menuiserie
    $defs:
      position:
        title: Position de la porte
        type: object
        properties:
          paroi_id:
            title: Identifiant de la paroi associée à la porte
            type:
              - string
              - 'null'
            format: uuid
            default: null
            examples:
              - 6e2f8aea-2215-40c5-bb17-bf1c400ec2e9
          surface:
            title: Surface totale de la porte en m²
            type: number
            exclusiveMinimum: 0
            examples:
              - 3.2
          mitoyennete:
            title: Mitoyenneté de la porte
            type: string
            enum:
              - exterieur
              - enterre
              - vide_sanitaire
              - terre_plein
              - sous_sol_non_chauffe
              - local_non_chauffe
              - local_non_residentiel
              - local_residentiel
              - local_non_accessible
            examples:
              - local_non_chauffe
          orientation:
            title: Orientation de la porte en degré par rapport au nord
            type:
              - number
              - 'null'
            minimum: 0
            exclusiveMaximum: 360
            default: null
            examples:
              - 90
        required:
          - paroi_id
          - surface
          - mitoyennete
          - orientation
        oneOf:
          - title: Porte donnant sur un local non chauffé
            type: object
            properties:
              mitoyennete:
                const: local_non_chauffe
              local_non_chauffe_id:
                title: Identifiant du local non chauffé associé à la porte
                type: string
                format: uuid
                examples:
                  - 30972a71-398f-4eb9-a902-0a6665d94a4f
            required:
              - local_non_chauffe_id
              - mitoyennete
          - title: Autres cas
            type: object
            properties:
              mitoyennete:
                not:
                  const: local_non_chauffe
            required:
              - mitoyennete
      vitrage:
        title: Vitrage
        type: object
        properties:
          taux_vitrage:
            title: Taux de vitrage en %
            type: number
            minimum: 0
            maximum: 100
            examples:
              - 0
        required:
          - taux_vitrage
        oneOf:
          - title: Porte sans vitrage
            type: object
            properties:
              taux_vitrage:
                const: 0
            required:
              - taux_vitrage
          - title: Porte avec vitrage
            type: object
            properties:
              taux_vitrage:
                type: number
                minimumExclusive: 0
              type_vitrage:
                title: Type de vitrage
                type:
                  - string
                  - 'null'
                enum:
                  - simple_vitrage
                  - double_vitrage
                  - triple_vitrage
                  - null
                default: null
                examples:
                  - simple_vitrage
            required:
              - taux_vitrage
              - type_vitrage
      menuiserie:
        title: Menuiserie
        type: object
        properties:
          largeur_dormant:
            title: Largeur dormant en mm
            type:
              - integer
              - 'null'
            minimum: 0
            default: null
            examples:
              - 60
          presence_joint:
            title: Présence de joint d'étanchéité
            type:
              - boolean
              - 'null'
            default: null
            examples:
              - true
          presence_retour_isolation:
            title: Présence d'un retour d'isolation
            type:
              - boolean
              - 'null'
            default: null
            examples:
              - true
        required:
          - largeur_dormant
          - presence_joint
          - presence_retour_isolation
  https://schemas.dpe-audit.fr/enveloppe/pont_thermique:
    $id: https://schemas.dpe-audit.fr/enveloppe/pont_thermique
    title: Pont thermique
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - 91ba046e-34e0-48ee-815a-b95f59f4056a
      description:
        title: Description au format markdown
        type: string
        examples:
          - Un pont thermique
      longueur:
        title: Longueur du pont thermique en m
        type: number
        exclusiveMinimum: 0
        examples:
          - 10
      kpt:
        title: Valeur du pont thermique connue et justifiée
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 0.1
      liaison:
        $ref: '#/$defs/liaison'
    required:
      - id
      - description
      - longueur
      - kpt
      - liaison
    $defs:
      liaison:
        title: Liaison
        type: object
        properties:
          type_liaison:
            title: Type de liaison
            type: string
            enum:
              - plancher_bas_mur
              - plancher_haut_mur
              - refend_mur
              - plancher_intermediaire_mur
              - menuiserie_mur
          mur_id:
            title: Identifiant du mur associé au pont thermique au format UUID
            type: string
            format: uuid
        required:
          - type_liaison
          - mur_id
        oneOf:
          - title: Pont thermique mur / plancher
            type: object
            properties:
              type_liaison:
                enum:
                  - plancher_bas_mur
                  - plancher_haut_mur
              plancher_id:
                title: >-
                  Identifiant du Plancher haut ou du Plancher bas associé au
                  pont thermique
                type: string
                format: uuid
                examples:
                  - 91ba046e-34e0-48ee-815a-b95f59f4056a
            required:
              - type_liaison
              - plancher_id
          - title: Pont thermique mur / menuiserie
            type: object
            properties:
              type_liaison:
                const: menuiserie_mur
              ouverture_id:
                title: >-
                  Identifiant de la Baie ou de la Porte associée au pont
                  thermique
                type: string
                format: uuid
                examples:
                  - 91ba046e-34e0-48ee-815a-b95f59f4056a
            required:
              - type_liaison
              - ouverture_id
          - title: Pont thermique mur / refend ou plancher intermédiaire
            type: object
            properties:
              type_liaison:
                enum:
                  - plancher_intermediaire_mur
                  - refend_mur
              pont_thermique_partiel:
                title: Pont thermique partiel
                type: boolean
            required:
              - type_liaison
              - pont_thermique_partiel
  https://schemas.dpe-audit.fr/enveloppe:
    $id: https://schemas.dpe-audit.fr/enveloppe
    title: Enveloppe
    type: object
    properties:
      exposition:
        title: Exposition
        type: string
        enum:
          - exposition_simple
          - exposition_multiple
        examples:
          - exposition_simple
          - exposition_multiple
      q4pa_conv:
        title: >-
          Perméabilité à l'air de l'enveloppe sous 4Pa connue et justifiée en
          m3/(h.m²)
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
      planchers_intermedaires:
        title: Liste des planchers intermédiaires
        type: array
        items:
          $ref: '#/$defs/plancherIntermediaire'
      refends:
        title: Liste des refends
        type: array
        items:
          $ref: '#/$defs/refend'
      locaux_non_chauffes:
        title: Liste des locaux non chauffés
        type: array
        items:
          $ref: /enveloppe/local_non_chauffe
      murs:
        title: Liste des murs
        type: array
        items:
          $ref: /enveloppe/mur
      planchers_bas:
        title: Liste des planchers bas
        type: array
        items:
          $ref: /enveloppe/plancher_bas
      planchers_hauts:
        title: Liste des planchers hauts
        type: array
        items:
          $ref: /enveloppe/plancher_haut
      baies:
        title: Liste des baies
        type: array
        items:
          $ref: /enveloppe/baie
      portes:
        title: Liste des portes
        type: array
        items:
          $ref: /enveloppe/porte
      ponts_thermiques:
        title: Liste des ponts thermiques
        type: array
        items:
          $ref: /enveloppe/pont_thermique
    required:
      - exposition
      - q4pa_conv
      - planchers_intermedaires
      - refends
      - locaux_non_chauffes
      - murs
      - planchers_bas
      - planchers_hauts
      - baies
      - portes
      - ponts_thermiques
    $defs:
      plancherIntermediaire:
        title: Plancher intermédiaire
        type: object
        properties:
          description:
            title: Description du plancher intermédiaire au format markdown
            type: string
            examples:
              - Un plancher intermédiaire
          surface:
            title: Surface du plancher intermédiaire en m²
            type: number
            minimumExclusive: 0
            examples:
              - 10
          inertie:
            title: Inertie
            type:
              - string
              - 'null'
            enum:
              - lourde
              - legere
              - null
            default: null
            examples:
              - lourde
              - legere
        required:
          - description
          - surface
          - inertie
      refend:
        title: Refend
        type: object
        properties:
          description:
            title: Description du refend au format markdown
            type: string
            examples:
              - Un refend
          surface:
            title: Surface du refend en m²
            type: number
            minimumExclusive: 0
            examples:
              - 10
          inertie:
            title: Inertie
            type:
              - string
              - 'null'
            enum:
              - lourde
              - legere
              - null
            default: null
            examples:
              - lourde
              - legere
        required:
          - description
          - surface
          - inertie
  https://schemas.dpe-audit.fr/ventilation/generateur:
    $id: https://schemas.dpe-audit.fr/ventilation/generateur
    title: Générateur de ventilation
    type: object
    properties:
      id:
        title: Identifiant unique du générateur de ventilation au format UUID
        type: string
        format: uuid
        examples:
          - fbc4f0ac-7d7c-4464-adb3-5617b81896c2
      description:
        title: Description du générateur de ventilation au format markdown
        type: string
        examples:
          - Un générateur de ventilation
      type:
        title: Type de générateur
        type: string
        enum:
          - vmc_simple_flux
          - vmc_simple_flux_gaz
          - vmc_basse_pression
          - vmc_double_flux
          - ventilation_hybride
          - ventilation_mecanique
          - puit_climatique
          - vmi
          - vmr
        examples:
          - vmc_simple_flux
      generateur_collectif:
        title: Générateur collectif de ventilation
        type: boolean
        examples:
          - false
      presence_echangeur_thermique:
        title: Présence d'un échangeur thermique
        type:
          - boolean
          - 'null'
        default: null
        examples:
          - true
      annee_installation:
        title: Année d'installation du générateur de ventilation
        type:
          - integer
          - 'null'
        default: null
        examples:
          - 2000
    required:
      - id
      - description
      - type
      - generateur_collectif
      - presence_echangeur_thermique
      - annee_installation
    oneOf:
      - title: Ventilation Mécanique Contrôlée
        type: object
        properties:
          type:
            enum:
              - vmc_simple_flux
              - vmc_simple_flux_gaz
              - vmc_basse_pression
              - vmc_double_flux
              - ventilation_hybride
          type_vmc:
            title: Type de Ventilation Mécanique Contrôlée
            type:
              - string
              - 'null'
            enum:
              - autoreglable
              - hygroreglable_type_a
              - hygroreglable_type_b
              - null
            default: null
            examples:
              - autoreglable
        required:
          - type
          - type_vmc
      - title: Autres
        type: object
        properties:
          type:
            enum:
              - ventilation_mecanique
              - puit_climatique
              - vmi
              - vmr
        required:
          - type
  https://schemas.dpe-audit.fr/ventilation/systeme:
    $id: https://schemas.dpe-audit.fr/ventilation/systeme
    title: Système de ventilation
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - 9aec1555-e0fa-4b31-8978-6f7d1df394b6
      type:
        title: Type de système de ventilation
        type: string
        enum:
          - ventilation_mecanique
          - ventilation_naturelle_ouverture_fenetres
          - ventilation_naturelle_entrees_air_hautes_basses
          - ventilation_naturelle_conduit
          - ventilation_naturelle_conduit_entrees_air_hygroreglables
        examples:
          - ventilation_mecanique
    required:
      - id
      - type
    oneOf:
      - title: Système de ventilation mécanique
        type: object
        properties:
          type:
            const: ventilation_mecanique
          generateur_id:
            title: Identifiant du générateur de ventilation associé au système
            type: string
            format: uuid
            examples:
              - fbc4f0ac-7d7c-4464-adb3-5617b81896c2
        required:
          - type
          - generateur_id
      - title: Système de ventilation naturelle
        type: object
        properties:
          type:
            enum:
              - ventilation_naturelle_ouverture_fenetres
              - ventilation_naturelle_entrees_air_hautes_basses
              - ventilation_naturelle_conduit
              - ventilation_naturelle_conduit_entrees_air_hygroreglables
        required:
          - type
  https://schemas.dpe-audit.fr/ventilation/installation:
    $id: https://schemas.dpe-audit.fr/ventilation/installation
    title: Installation de ventilation
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - 9aec1555-e0fa-4b31-8978-6f7d1df394b6
      description:
        title: Description au format markdown
        type: string
        examples:
          - Une installation de ventilation
      surface:
        title: Surface couverte par l'installation en m²
        type: number
        exclusiveMinimum: 0
        examples:
          - 100
      systemes:
        title: Liste des systèmes de ventilation associés à l'installation
        type: array
        minContains: 1
        items:
          $ref: /ventilation/systeme
    required:
      - id
      - description
      - surface
      - systemes
  https://schemas.dpe-audit.fr/ventilation:
    $id: https://schemas.dpe-audit.fr/ventilation
    title: Ventilation
    type: object
    properties:
      generateurs:
        title: Liste des générateurs de ventilation
        type: array
        items:
          $ref: /ventilation/generateur
      installations:
        title: Liste des installations de ventilation
        type: array
        minContains: 1
        items:
          $ref: /ventilation/installation
    required:
      - generateurs
      - installations
  https://schemas.dpe-audit.fr/refroidissement/generateur:
    $id: https://schemas.dpe-audit.fr/refroidissement/generateur
    title: Générateur de refroidissement
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - a7396354-ba21-40d9-b50f-d35da67a70c1
      description:
        title: Description au format markdown
        type: string
        examples:
          - Un générateur de refroidissement
      type:
        title: Type de générateur
        type: string
        enum:
          - pac_air_air
          - pac_air_eau
          - pac_eau_eau
          - pac_eau_glycolee_eau
          - pac_geothermique
          - autre_systeme_thermodynamique
          - autre
          - reseau_froid
        examples:
          - pac_air_air
      annee_installation:
        title: Année d'installation connue et justifiée
        type:
          - integer
          - 'null'
        default: null
        examples:
          - 2000
    required:
      - id
      - description
      - type
      - energie
      - annee_installation
    oneOf:
      - title: Pompe à chaleur
        type: object
        properties:
          type:
            enum:
              - pac_air_air
              - pac_air_eau
              - pac_eau_eau
              - pac_eau_glycolee_eau
              - pac_geothermique
              - autre_systeme_thermodynamique
          energie:
            title: Énergie utilisée par le générateur
            type: string
            const: electricite
          seer:
            title: Coefficient d'efficience énergétique saisonnier connu et justifié
            type:
              - number
              - 'null'
            exclusiveMinimum: 0
            default: null
            examples:
              - 2.5
        required:
          - type
          - energie
          - seer
      - title: Climatiseur
        type: object
        properties:
          type:
            const: autre
          energie:
            title: Énergie utilisée par le générateur
            type: string
            enum:
              - electricite
              - gaz_naturel
              - gpl
          seer:
            title: Coefficient d'efficience énergétique saisonnier connu et justifié
            type:
              - number
              - 'null'
            exclusiveMinimum: 0
            default: null
            examples:
              - 2.5
        required:
          - type
          - energie
          - seer
      - title: Réseau de froid
        type: object
        properties:
          type:
            const: reseau_froid
          energie:
            const: reseau_froid
          reseau_froid_id:
            title: Identifiant unique du réseau de froid
            type:
              - string
              - 'null'
            default: null
        required:
          - type
          - energie
          - reseau_froid_id
  https://schemas.dpe-audit.fr/refroidissement/installation:
    $id: https://schemas.dpe-audit.fr/refroidissement/installation
    title: Installation de refroidissement
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - 5124d497-6458-45a9-a9b0-8c84d14139f6
      description:
        title: Description au format markdown
        type: string
        examples:
          - Une installation de refroidissement
      surface:
        title: Surface couverte par l'installation en m²
        type: number
        exclusiveMinimum: 0
        examples:
          - 100
      generateurs:
        title: Liste des générateurs de refroidissement associés à l'installation
        type: array
        minContains: 1
        items:
          type: string
          format: uuid
    required:
      - id
      - description
      - surface
      - generateurs
  https://schemas.dpe-audit.fr/refroidissement:
    $id: https://schemas.dpe-audit.fr/refroidissement
    title: Refroidissement
    type: object
    properties:
      generateurs:
        title: Liste des générateurs de refroidissement
        type: array
        items:
          $ref: /refroidissement/generateur
      installations:
        title: Liste des installations de refroidissement
        type: array
        items:
          $ref: /refroidissement/installation
    required:
      - generateurs
      - installations
  https://schemas.dpe-audit.fr/chauffage/generateur:
    $id: https://schemas.dpe-audit.fr/chauffage/generateur
    title: Générateur de chauffage
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - fbc4f0ac-7d7c-4464-adb3-5617b81896c2
      description:
        title: Description au format markdown
        type: string
        examples:
          - Un générateur de chauffage
      type:
        title: Type de générateur
        type: string
        enum:
          - chaudiere
          - chaudiere_multi_batiment
          - convecteur_bi_jonction
          - convecteur_electrique
          - cuisiniere
          - foyer_ferme
          - generateur_air_chaud
          - insert
          - pac_air_air
          - pac_air_eau
          - pac_eau_eau
          - pac_eau_glycolee_eau
          - pac_geothermique
          - pac_hybride_air_eau
          - pac_hybride_eau_eau
          - pac_hybride_eau_glycolee_eau
          - pac_hybride_geothermique
          - pac_multi_batiment
          - panneau_rayonnant_electrique
          - plafond_rayonnant_electrique
          - plancher_rayonnant_electrique
          - poele
          - poele_bouilleur
          - radiateur_electrique
          - radiateur_electrique_accumulation
          - radiateur_gaz
          - reseau_chaleur
        examples:
          - chaudiere
      energie:
        title: Energie
        type: string
        enum:
          - electricite
          - gaz_naturel
          - gpl
          - fioul
          - charbon
          - bois_buche
          - bois_plaquette
          - bois_granule
          - reseau_chaleur
        examples:
          - electricite
      generateur_collectif:
        title: Présence d'un générateur collectif de chauffage
        type: boolean
        examples:
          - false
      position_volume_chauffe:
        title: Position du générateur à l'intérieur du volume chauffé
        type: boolean
        examples:
          - true
      annee_installation:
        title: Année d'installation
        type:
          - integer
          - 'null'
        default: null
        examples:
          - 2000
    required:
      - id
      - description
      - type
      - energie
      - generateur_collectif
      - position_volume_chauffe
      - annee_installation
    oneOf:
      - title: Chaudière à combustion
        type: object
        properties:
          type:
            const: chaudiere
          energie:
            $ref: '#/$defs/energieCombustion'
          generateur_ecs_id:
            $ref: '#/$defs/generateurEcs'
          type_chaudiere:
            $ref: '#/$defs/typeChaudiere'
          pn:
            $ref: '#/$defs/pn'
        required:
          - type
          - energie
          - generateur_ecs_id
          - type_chaudiere
          - pn
        allOf:
          - $ref: '#/$defs/combustion'
      - title: Chaudière à combustion multi bâtiment
        type: object
        properties:
          type:
            const: chaudiere_multi_batiment
          energie:
            $ref: '#/$defs/energieCombustion'
          generateur_ecs_id:
            $ref: '#/$defs/generateurEcs'
          type_chaudiere:
            $ref: '#/$defs/typeChaudiere'
          pn:
            $ref: '#/$defs/pn'
        required:
          - type
          - energie
          - generateur_ecs_id
          - type_chaudiere
          - pn
        allOf:
          - $ref: '#/$defs/combustion'
      - title: Chaudière électrique
        type: object
        properties:
          type:
            const: chaudiere
          energie:
            const: electricite
          generateur_ecs_id:
            $ref: '#/$defs/generateurEcs'
          type_chaudiere:
            $ref: '#/$defs/typeChaudiere'
          pn:
            $ref: '#/$defs/pn'
        required:
          - type
          - energie
          - generateur_ecs_id
          - type_chaudiere
          - pn
      - title: Chaudière électrique multi bâtiment
        type: object
        properties:
          type:
            const: chaudiere_multi_batiment
          energie:
            const: electricite
          generateur_ecs_id:
            $ref: '#/$defs/generateurEcs'
          type_chaudiere:
            $ref: '#/$defs/typeChaudiere'
          generateur_collectif:
            const: true
            default: true
          position_volume_chauffe:
            const: false
            default: false
          pn:
            $ref: '#/$defs/pn'
        required:
          - type
          - energie
          - generateur_ecs_id
          - type_chaudiere
          - generateur_collectif
          - position_volume_chauffe
          - pn
      - title: Pompe à chaleur
        properties:
          type:
            enum:
              - pac_air_air
              - pac_air_eau
              - pac_eau_eau
              - pac_eau_glycolee_eau
              - pac_geothermique
          energie:
            const: electricite
          generateur_ecs_id:
            $ref: '#/$defs/generateurEcs'
          pn:
            $ref: '#/$defs/pn'
          scop:
            $ref: '#/$defs/scop'
        required:
          - type
          - energie
          - generateur_ecs_id
          - pn
          - scop
      - title: Pompe à chaleur multi bâtiment
        properties:
          type:
            enum:
              - pac_air_air
              - pac_air_eau
              - pac_eau_eau
              - pac_eau_glycolee_eau
              - pac_geothermique
          energie:
            const: electricite
          generateur_ecs_id:
            $ref: '#/$defs/generateurEcs'
          generateur_collectif:
            const: true
            default: true
          position_volume_chauffe:
            const: false
            default: false
          pn:
            $ref: '#/$defs/pn'
          scop:
            $ref: '#/$defs/scop'
        required:
          - type
          - energie
          - generateur_ecs_id
          - generateur_collectif
          - position_volume_chauffe
          - pn
          - scop
      - title: Pompe à chaleur hybride
        type: object
        properties:
          type:
            enum:
              - pac_hybride_air_eau
              - pac_hybride_eau_eau
              - pac_hybride_eau_glycolee_eau
              - pac_hybride_geothermique
          energie:
            const: electricite
          energie_partie_chaudiere:
            $ref: '#/$defs/energieCombustion'
          generateur_ecs_id:
            $ref: '#/$defs/generateurEcs'
          scop:
            $ref: '#/$defs/scop'
        required:
          - type
          - energie
          - energie_partie_chaudiere
          - generateur_ecs_id
          - scop
        allOf:
          - $ref: '#/$defs/chaudiere'
      - title: Générateur d'air chaud électrique
        type: object
        properties:
          type:
            const: generateur_air_chaud
          energie:
            const: electricite
          pn:
            $ref: '#/$defs/pn'
        required:
          - type
          - energie
          - pn
      - title: Générateur d'air chaud à combustion
        type: object
        properties:
          type:
            const: generateur_air_chaud
          energie:
            $ref: '#/$defs/energieCombustion'
        required:
          - type
          - energie
        allOf:
          - $ref: '#/$defs/combustion'
      - title: Poêle bouilleur
        type: object
        properties:
          type:
            enum:
              - poele_bouilleur
          energie:
            enum:
              - bois_buche
              - bois_plaquette
              - bois_granule
          generateur_ecs_id:
            $ref: '#/$defs/generateurEcs'
        required:
          - type
          - energie
          - generateur_ecs_id
        allOf:
          - $ref: '#/$defs/combustion'
      - title: Poêle et insert
        type: object
        properties:
          type:
            enum:
              - cuisiniere
              - foyer_ferme
              - insert
              - poele
          energie:
            $ref: '#/$defs/energieCombustion'
          generateur_collectif:
            const: false
            default: false
          label:
            $ref: '#/$defs/label'
            enum:
              - flamme_verte
              - null
          pn:
            $ref: '#/$defs/pn'
        required:
          - type
          - energie
          - generateur_collectif
          - label
          - pn
      - title: Radiateur gaz
        type: object
        properties:
          type:
            const: radiateur_gaz
          energie:
            const:
              - gaz_naturel
              - gpl
          generateur_collectif:
            const: false
            default: false
          label:
            $ref: '#/$defs/label'
            enum:
              - flamme_verte
              - null
        required:
          - type
          - energie
          - generateur_collectif
          - label
          - pn
        allOf:
          - $ref: '#/$defs/combustion'
      - title: Chauffage électrique
        type: object
        properties:
          type:
            enum:
              - convecteur_bi_jonction
              - convecteur_electrique
              - generateur_air_chaud
              - panneau_rayonnant_electrique
              - plafond_rayonnant_electrique
              - plancher_rayonnant_electrique
              - radiateur_electrique
              - radiateur_electrique_accumulation
          energie:
            const: electricite
          generateur_collectif:
            const: false
            default: false
          pn:
            $ref: '#/$defs/pn'
          label:
            $ref: '#/$defs/label'
            enum:
              - nf_performance
              - null
        required:
          - type
          - energie
          - generateur_collectif
          - pn
          - label
      - title: Réseau de chaleur
        type: object
        properties:
          type:
            const: reseau_chaleur
          energie:
            const: reseau_chaleur
          reseau_chaleur_id:
            title: Identifiant du réseau de chaleur
            type:
              - string
              - 'null'
            default: null
            examples:
              - reseau-chaleur
          generateur_ecs_id:
            $ref: '#/$defs/generateurEcs'
          generateur_collectif:
            const: true
            default: true
          position_volume_chauffe:
            const: false
            default: false
        required:
          - type
          - energie
          - reseau_chaleur_id
          - generateur_ecs_id
          - generateur_collectif
          - position_volume_chauffe
    $defs:
      generateurEcs:
        title: Générateur d'eau chaude sanitaire
        type:
          - string
          - 'null'
        format: uuid
        default: null
        examples:
          - fbc4f0ac-7d7c-4464-adb3-5617b81896c2
      energie:
        title: Energie du générateur
        type: string
        enum:
          - electricite
          - gaz_naturel
          - gpl
          - fioul
          - charbon
          - bois_buche
          - bois_plaquette
          - bois_granule
          - reseau_chaleur
        examples:
          - electricite
      energieCombustion:
        $ref: '#/$defs/energie'
        enum:
          - gaz_naturel
          - gpl
          - fioul
          - charbon
          - bois_buche
          - bois_plaquette
          - bois_granule
        examples:
          - gaz_naturel
      label:
        title: Label du générateur
        type:
          - string
          - 'null'
        enum:
          - flamme_verte
          - nf_performance
          - null
        default: null
        examples:
          - flamme_verte
      typeChaudiere:
        title: Type de chaudière
        type:
          - string
          - 'null'
        enum:
          - chaudiere_murale
          - chaudiere_sol
          - null
        default: null
        examples:
          - chaudiere_murale
      pn:
        title: Puissance nominale en kW
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 10
      scop:
        title: Coefficient de performance énergétique saisonnier
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        maximum: 10
        default: null
        examples:
          - 5
      modeCombustion:
        title: Mode de combustion
        type:
          - string
          - 'null'
        enum:
          - standard
          - basse_temperature
          - condensation
          - null
        default: null
        examples:
          - basse_temperature
      presenceVentouse:
        title: Présence d'une ventouse
        type:
          - boolean
          - 'null'
        default: null
        examples:
          - true
      presenceRegulationCombustion:
        title: Présence d'une régulation de combustion
        type:
          - boolean
          - 'null'
        default: null
        examples:
          - true
      pveilleuse:
        title: Puissance de la veilleuse en W
        type:
          - number
          - 'null'
        minimum: 0
        default: null
        examples:
          - 100
      qp0:
        title: Pertes à l'arrêt en W
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 100
      rpn:
        title: Rendement à puissance nominale sur PCI en %
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        maximum: 150
        default: null
        examples:
          - 80
      rpint:
        title: Rendement à puissance intermédiaire sur PCI en %
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        maximum: 150
        default: null
        examples:
          - 80
      tfonc30:
        title: Température de fonctionnement à 30% de la puissance nominale en °C
        type:
          - number
          - 'null'
        minimumExlusive: 0
        maximum: 150
        default: null
        examples:
          - 70
      tfonc100:
        title: Température de fonctionnement à 100% de la puissance nominale en °C
        type:
          - number
          - 'null'
        minimumExlusive: 0
        maximum: 150
        default: null
        examples:
          - 70
      combustion:
        title: Caractéristiques des générateurs à combustion
        type: object
        properties:
          mode_combustion:
            $ref: '#/$defs/modeCombustion'
          presence_ventouse:
            $ref: '#/$defs/presenceVentouse'
          presence_regulation_combustion:
            $ref: '#/$defs/presenceRegulationCombustion'
          pn:
            $ref: '#/$defs/pn'
          pveilleuse:
            $ref: '#/$defs/pveilleuse'
          qp0:
            $ref: '#/$defs/qp0'
          rpn:
            $ref: '#/$defs/rpn'
          rpint:
            $ref: '#/$defs/rpint'
        required:
          - mode_combustion
          - presence_ventouse
          - presence_regulation_combustion
          - pn
          - pveilleuse
          - qp0
          - rpn
      chaudiere:
        title: Caractéristiques des chaudières
        type: object
        properties:
          type_chaudiere:
            $ref: '#/$defs/typeChaudiere'
          tfonc30:
            $ref: '#/$defs/tfonc30'
          tfonc100:
            $ref: '#/$defs/tfonc100'
        required:
          - type_chaudiere
          - tfonc30
          - tfonc100
        allOf:
          - $ref: '#/$defs/combustion'
  https://schemas.dpe-audit.fr/chauffage/emetteur:
    $id: https://schemas.dpe-audit.fr/chauffage/emetteur
    title: Émetteur de chaleur
    type: object
    properties:
      id:
        title: Identifiant unique de l'émetteur de chauffage au format UUID
        type: string
        format: uuid
        examples:
          - 9aec1555-e0fa-4b31-8978-6f7d1df394b6
      description:
        title: Description de l'émetteur de chauffage au format markdown
        type: string
        examples:
          - Un émetteur de chauffage
      type:
        title: Type d'émetteur de chauffage
        type: string
        enum:
          - plancher_chauffant
          - plafond_chauffant
          - radiateur_monotube
          - radiateur_bitube
          - radiateur
        examples:
          - radiateur_bitube
      temperature_distribution:
        title: Température de distribution de l'émetteur de chaleur
        type: string
        enum:
          - basse
          - moyenne
          - haute
        examples:
          - moyenne
      presence_robinet_thermostatique:
        title: Présence d'un robinet thermostatique
        type: boolean
        examples:
          - true
      annee_installation:
        title: Année d'installation de l'émetteur de chaleur
        type:
          - integer
          - 'null'
        default: null
        examples:
          - 2000
    required:
      - id
      - description
      - type
      - temperature_distribution
      - presence_robinet_thermostatique
      - annee_installation
  https://schemas.dpe-audit.fr/chauffage/systeme:
    $id: https://schemas.dpe-audit.fr/chauffage/systeme
    title: Système de chauffage
    type: object
    properties:
      generateur_id:
        title: Identifiant unique du générateur de chauffage au format UUID
        type: string
        format: uuid
        examples:
          - 6a785019-8ce1-4768-b9c3-400b7bd2f1f3
      type:
        title: Type de système
        type: string
        enum:
          - chauffage_central
          - chauffage_divise
        examples:
          - chauffage_central
    required:
      - generateur_id
      - type
    oneOf:
      - title: Chauffage central
        type: object
        properties:
          type:
            const: chauffage_central
          reseau:
            $ref: '#/$defs/reseau'
          emetteurs:
            title: Liste des émetteurs associés au système de chauffage
            type: array
            minContains: 1
            items:
              title: Identifiant unique de l'émetteur de chauffage au format UUID
              type: string
              format: uuid
        required:
          - type
          - reseau
          - emetteurs
      - title: Chauffage divisé
        type: object
        properties:
          type:
            const: chauffage_divise
        required:
          - type
    $defs:
      reseau:
        title: Réseau de chauffage
        type: object
        properties:
          type_distribution:
            title: Type de distribution
            type: string
            enum:
              - hydraulique
              - aeraulique
            examples:
              - hydraulique
          presence_circulateur_externe:
            title: Présence d'un circulateur externe
            type: boolean
            examples:
              - true
            default: false
          niveaux_desservis:
            title: Nombre de niveaux desservis par le réseau
            type: integer
            minimum: 1
            examples:
              - 2
          isolation:
            title: Isolation du réseau
            type:
              - string
              - 'null'
            enum:
              - isole
              - non_isole
              - null
            default: null
            examples:
              - isole
        required:
          - type_distribution
          - presence_circulateur_externe
          - niveaux_desservis
          - isolation
  https://schemas.dpe-audit.fr/chauffage/installation:
    $id: https://schemas.dpe-audit.fr/chauffage/installation
    title: Installation de chauffage
    type: object
    properties:
      id:
        title: Identifiant unique de l'installation de chauffage au format UUID
        type: string
        format: uuid
        examples:
          - 9d615f30-c6f8-406f-8a1f-899617c472db
      description:
        title: Description de l'installation de chauffage au format markdown
        type: string
        examples:
          - Une installation de chauffage
      surface:
        title: Surface couverte par l'installation de chauffage en m²
        type: number
        exclusiveMinimum: 0
        examples:
          - 100
      comptage_individuel:
        title: Comptage individuel
        type: boolean
        examples:
          - true
      solaire_thermique:
        title: Solaire thermique
        type:
          - object
          - 'null'
        oneOf:
          - const: null
          - $ref: '#/$defs/solaire'
      regulation_centrale:
        $ref: '#/$defs/regulation'
        title: Régulation centrale
      regulation_terminale:
        $ref: '#/$defs/regulation'
        title: Régulation terminale
      systemes:
        title: Liste des systèmes de chauffage associés à l'installation
        type: array
        minContains: 1
        items:
          $ref: /chauffage/systeme
    required:
      - id
      - description
      - surface
      - comptage_individuel
      - solaire_thermique
      - regulation_centrale
      - regulation_terminale
      - systemes
    $defs:
      solaire:
        title: Solaire thermique
        type: object
        properties:
          usage:
            title: Usages couverts par le solaire thermique
            type: string
            enum:
              - chauffage
              - chauffage_ecs
            default: chauffage
            examples:
              - chauffage
          annee_installation:
            title: Année d'installation
            type:
              - integer
              - 'null'
            default: null
            examples:
              - 2000
          fch:
            title: Facteur de couverture solaire connu et justifié en %
            type: number
            minimum: 0
            maximum: 100
            examples:
              - 50
        required:
          - usage
          - annee_installation
          - fch
      regulation:
        title: Régulation
        type: object
        properties:
          presence_regulation:
            title: Présence d'une régulation
            type: boolean
            examples:
              - true
        required:
          - presence_regulation
        oneOf:
          - title: Régulation
            type: object
            properties:
              presence_regulation:
                const: true
              minimum_temperature:
                title: Régulation avec minimum de température
                type: boolean
                examples:
                  - true
              detection_presence:
                title: Détection de présence
                type: boolean
                examples:
                  - true
            required:
              - presence_regulation
              - minimum_temperature
              - detection_presence
          - title: Pas de régulation
            type: object
            properties:
              presence_regulation:
                const: false
            required:
              - presence_regulation
  https://schemas.dpe-audit.fr/chauffage:
    $id: https://schemas.dpe-audit.fr/chauffage
    title: Chauffage
    type: object
    properties:
      generateurs:
        title: Liste des générateurs de chauffage
        type: array
        minContains: 1
        items:
          $ref: /chauffage/generateur
      emetteurs:
        title: Liste des émetteurs de chauffage
        type: array
        items:
          $ref: /chauffage/emetteur
      installations:
        title: Liste des installations de chauffage
        type: array
        minContains: 1
        items:
          $ref: /chauffage/installation
    required:
      - generateurs
      - emetteurs
      - installations
  https://schemas.dpe-audit.fr/ecs/generateur:
    $id: https://schemas.dpe-audit.fr/ecs/generateur
    title: Générateur d'eau chaude sanitaire
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - fbc4f0ac-7d7c-4464-adb3-5617b81896c2
      description:
        title: Description au format markdown
        type: string
        examples:
          - Un générateur d'eau chaude sanitaire
      type:
        title: Type de générateur d'eau chaude sanitaire
        type: string
        enum:
          - accumulateur
          - chauffe_eau_instantane
          - chauffe_eau_vertical
          - chauffe_eau_horizontal
          - chaudiere
          - chaudiere_multi_batiment
          - cet_air_ambiant
          - cet_air_exterieur
          - cet_air_extrait
          - pac_double_service
          - pac_multi_batiment
          - poele_bouilleur
          - reseau_chaleur
        examples:
          - accumulateur
      energie:
        $ref: '#/$defs/energie'
      volume_stockage:
        title: Volume de stockage en l
        type: number
        minimum: 0
        examples:
          - 200
      generateur_collectif:
        title: Présence d'un générateur collectif d'eau chaude sanitaire
        type: boolean
        examples:
          - false
      position_volume_chauffe:
        title: Position du générateur à l'intérieur du volume chauffé
        type: boolean
        examples:
          - true
      annee_installation:
        title: Année d'installation connue et justifiée
        type:
          - integer
          - 'null'
        default: null
        examples:
          - 2000
    required:
      - id
      - description
      - type
      - energie
      - volume_stockage
      - generateur_collectif
      - position_volume_chauffe
      - annee_installation
    oneOf:
      - title: Accumulateur
        type: object
        properties:
          type:
            const: accumulateur
          energie:
            $ref: '#/$defs/energie'
            enum:
              - gaz_naturel
              - gpl
          volume_stockage:
            exclusiveMinimum: 0
        required:
          - type
          - energie
          - volume_stockage
        allOf:
          - $ref: '#/$defs/combustion'
      - title: Chauffe-eau instantané
        type: object
        properties:
          type:
            const: chauffe_eau_instantane
          energie:
            $ref: '#/$defs/energie'
            enum:
              - gaz_naturel
              - gpl
          volume_stockage:
            const: 0
            default: 0
        required:
          - type
          - energie
          - volume_stockage
        allOf:
          - $ref: '#/$defs/combustion'
      - title: Chauffe-eau électrique
        type: object
        properties:
          type:
            enum:
              - chauffe_eau_vertical
              - chauffe_eau_horizontal
          energie:
            $ref: '#/$defs/energie'
            const: electricite
          pn:
            $ref: '#/$defs/pn'
          label:
            $ref: '#/$defs/label'
        required:
          - type
          - energie
          - pn
          - label
      - title: Chaudière électrique
        type: object
        properties:
          type:
            const: chaudiere
          energie:
            const: electricite
          pn:
            $ref: '#/$defs/pn'
          generateur_chauffage_id:
            $ref: '#/$defs/generateurChauffage'
        required:
          - type
          - energie
          - pn
          - generateur_chauffage_id
      - title: Chaudière à combustion
        type: object
        properties:
          type:
            const: chaudiere
          energie:
            $ref: '#/$defs/energieCombustion'
          type_chaudiere:
            $ref: '#/$defs/typeChaudiere'
          generateur_chauffage_id:
            $ref: '#/$defs/generateurChauffage'
        required:
          - type
          - energie
          - type_chaudiere
          - generateur_chauffage_id
        allOf:
          - $ref: '#/$defs/combustion'
      - title: Chaudière multi-bâtiment
        type: object
        properties:
          type:
            const: chaudiere_multi_batiment électrique
          energie:
            const: electricite
          generateur_collectif:
            const: true
            default: true
          pn:
            $ref: '#/$defs/pn'
          generateur_chauffage_id:
            $ref: '#/$defs/generateurChauffage'
        required:
          - type
          - energie
          - generateur_collectif
          - pn
          - generateur_chauffage_id
      - title: Chaudière multi-bâtiment à combustion
        type: object
        properties:
          type:
            const: chaudiere_multi_batiment
          energie:
            $ref: '#/$defs/energieCombustion'
          generateur_collectif:
            const: true
            default: true
          generateur_chauffage_id:
            $ref: '#/$defs/generateurChauffage'
        required:
          - type
          - energie
          - generateur_collectif
          - generateur_chauffage_id
        allOf:
          - $ref: '#/$defs/combustion'
      - title: Chauffe-eau thermodynamique
        type: object
        properties:
          type:
            enum:
              - cet_air_ambiant
              - cet_air_exterieur
              - cet_air_extrait
          energie:
            $ref: '#/$defs/energie'
            const: electricite
          cop:
            $ref: '#/$defs/cop'
          pn:
            $ref: '#/$defs/pn'
        required:
          - type
          - energie
          - cop
          - pn
      - title: Pompe à chaleur
        type: object
        properties:
          type:
            enum:
              - pac_double_service
              - pac_multi_batiment
          energie:
            $ref: '#/$defs/energie'
            const: electricite
          cop:
            $ref: '#/$defs/cop'
          pn:
            $ref: '#/$defs/pn'
          generateur_chauffage_id:
            $ref: '#/$defs/generateurChauffage'
        required:
          - type
          - energie
          - cop
          - pn
          - generateur_chauffage_id
      - title: Poêle bouilleur
        type: object
        properties:
          type:
            const: poele_bouilleur
          energie:
            $ref: '#/$defs/energie'
            enum:
              - bois_buche
              - bois_plaquette
              - bois_granule
          generateur_chauffage_id:
            $ref: '#/$defs/generateurChauffage'
        required:
          - type
          - energie
          - generateur_chauffage_id
        allOf:
          - $ref: '#/$defs/combustion'
      - title: Réseau de chaleur
        type: object
        properties:
          type:
            const: reseau_chaleur
          energie:
            $ref: '#/$defs/energie'
            const: reseau_chaleur
          reseau_chaleur_id:
            title: Identifiant du réseau de chaleur
            type:
              - string
              - 'null'
            default: null
            examples:
              - fbc4f0ac-7d7c-4464-adb3-5617b81896c2
          generateur_chauffage_id:
            $ref: '#/$defs/generateurChauffage'
        required:
          - type
          - energie
          - reseau_chaleur_id
          - generateur_chauffage_id
    $defs:
      generateurChauffage:
        title: Générateur de chauffage
        type:
          - string
          - 'null'
        format: uuid
        default: null
        examples:
          - 6a785019-8ce1-4768-b9c3-400b7bd2f1f3
      energie:
        title: Energie
        type: string
        enum:
          - electricite
          - gaz_naturel
          - gpl
          - fioul
          - charbon
          - bois_buche
          - bois_plaquette
          - bois_granule
          - reseau_chaleur
        examples:
          - electricite
      energieCombustion:
        $ref: '#/$defs/energie'
        enum:
          - gaz_naturel
          - gpl
          - fioul
          - charbon
          - bois_buche
          - bois_plaquette
          - bois_granule
        examples:
          - gaz_naturel
      typeChaudiere:
        title: Type de chaudière
        type:
          - string
          - 'null'
        enum:
          - chaudiere_murale
          - chaudiere_sol
          - null
        default: null
        examples:
          - chaudiere_murale
      label:
        title: Label du générateur
        type:
          - string
          - 'null'
        enum:
          - ne_performance_a
          - ne_performance_b
          - ne_performance_c
          - null
        default: null
        examples:
          - ne_performance_a
      pn:
        title: Puissance nominale en kW
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 10
      cop:
        title: Coefficient de performance énergétique
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        maximum: 10
        default: null
        examples:
          - 5
      combustion:
        title: Caractéristiques des générateurs à combustion
        type: object
        properties:
          mode_combustion:
            title: Mode de combustion
            type:
              - string
              - 'null'
            enum:
              - standard
              - basse_temperature
              - condensation
              - null
            default: null
            examples:
              - basse_temperature
          presence_ventouse:
            title: Présence d'une ventouse
            type:
              - boolean
              - 'null'
            default: null
            examples:
              - true
          pn:
            $ref: '#/$defs/pn'
          pveilleuse:
            title: Puissance de la veilleuse en W
            type:
              - number
              - 'null'
            minimum: 0
            default: null
            examples:
              - 100
          qp0:
            title: Pertes à l'arrêt en W
            type:
              - number
              - 'null'
            exclusiveMinimum: 0
            default: null
            examples:
              - 100
          rpn:
            title: Rendement à puissance nominale sur PCI en %
            type:
              - number
              - 'null'
            exclusiveMinimum: 0
            maximum: 150
            default: null
            examples:
              - 80
        required:
          - mode_combustion
          - presence_ventouse
          - pn
          - pveilleuse
          - qp0
          - rpn
  https://schemas.dpe-audit.fr/ecs/systeme:
    $id: https://schemas.dpe-audit.fr/ecs/systeme
    title: Système d'eau chaude sanitaire
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - 570c8e85-524f-4279-81ad-87f2014f9205
      generateur_id:
        title: Identifiant du générateur d'eau chaude sanitaire associé au système
        type: string
        format: uuid
        examples:
          - fbc4f0ac-7d7c-4464-adb3-5617b81896c2
      reseau:
        $ref: '#/$defs/reseau'
      stockage:
        title: Stockage indépendant
        type:
          - object
          - 'null'
        default: null
        oneOf:
          - const: null
          - $ref: '#/$defs/stockage'
    required:
      - id
      - generateur_id
      - reseau
      - stockage
    $defs:
      reseau:
        title: Réseau de distribution d'eau chaude sanitaire
        type: object
        properties:
          alimentation_contigues:
            title: Alimentation contigüe
            type: boolean
            examples:
              - true
          niveaux_desservis:
            title: Nombre de niveaux desservis
            type: integer
            minimum: 1
            examples:
              - 1
          isolation_reseau:
            title: Isolation du réseau
            type:
              - string
              - 'null'
            enum:
              - isole
              - non_isole
              - null
            default: null
            examples:
              - isole
          type_bouclage:
            title: Type de bouclage
            type:
              - string
              - 'null'
            enum:
              - reseau_non_boucle
              - reseau_boucle
              - reseau_trace
              - null
        required:
          - alimentation_contigues
          - niveaux_desservis
          - isolation_reseau
          - type_bouclage
      stockage:
        title: Stockage
        type: object
        properties:
          volume_stockage:
            title: Volume de stockage en l
            type: number
            exclusiveMinimum: 0
            examples:
              - 200
          position_volume_chauffe:
            title: Position à l'intérieur volume chauffé
            type: boolean
            examples:
              - true
        required:
          - volume_stockage
          - position_volume_chauffe
  https://schemas.dpe-audit.fr/ecs/installation:
    $id: https://schemas.dpe-audit.fr/ecs/installation
    title: Installation d'eau chaude sanitaire
    type: object
    properties:
      id:
        title: Identifiant unique sanitaire au format UUID
        type: string
        format: uuid
        examples:
          - 9aec1555-e0fa-4b31-8978-6f7d1df394b6
      description:
        title: Description sanitaire au format markdown
        type: string
        examples:
          - Une installation d'eau chaude sanitaire
      surface:
        title: Surface couverte par l'installation en m²
        type: number
        exclusiveMinimum: 0
        examples:
          - 100
      solaire_thermique:
        title: Solaire thermique
        type:
          - object
          - 'null'
        default: null
        oneOf:
          - $ref: '#/$defs/solaire'
          - const: null
      systemes:
        title: Liste des systèmes d'eau chaude sanitaire associés à l'installation
        type: array
        minContains: 1
        items:
          $ref: /ecs/systeme
    required:
      - id
      - description
      - surface
      - solaire_thermique
      - systemes
    $defs:
      solaire:
        title: Solaire thermique
        type: object
        properties:
          usage:
            title: Usages couverts par le solaire thermique
            type: string
            enum:
              - ecs
              - chauffage_ecs
            examples:
              - ecs
          annee_installation:
            title: Année d'installation
            type:
              - integer
              - 'null'
            default: null
            examples:
              - 2000
          fecs:
            title: Facteur de couverture solaire connue et justifié en %
            type:
              - number
              - 'null'
            minimum: 0
            maximum: 100
            default: null
            examples:
              - 20
        required:
          - usage
          - annee_installation
          - fecs
  https://schemas.dpe-audit.fr/ecs:
    $id: https://schemas.dpe-audit.fr/ecs
    title: Eau chaude sanitaire
    type: object
    properties:
      generateurs:
        title: Liste des générateurs d'eau chaude sanitaire
        type: array
        minContains: 1
        items:
          $ref: /ecs/generateur
      installations:
        title: Liste des installations d'eau chaude sanitaire
        type: array
        minContains: 1
        items:
          $ref: /ecs/installation
    required:
      - generateurs
      - installations
  https://schemas.dpe-audit.fr/production/panneau_photovoltaique:
    $id: https://schemas.dpe-audit.fr/production/panneau_photovoltaique
    title: Panneau photovoltaïque
    type: object
    properties:
      id:
        title: Identifiant unique au format UUID
        type: string
        format: uuid
        examples:
          - 4634c0b5-a515-4aa7-abc2-c6d6d81af75c
      description:
        title: Description au format markdown
        type: string
        examples:
          - Un panneau photovoltaïque
      orientation:
        title: Orientation en degrés
        type: number
        minimum: 0
        exclusiveMaximum: 360
        examples:
          - 180
      inclinaison:
        title: Inclinaison en degrés
        type: number
        minimum: 0
        maximum: 90
        examples:
          - 30
      modules:
        title: Nombre de modules
        type: integer
        minimum: 1
        examples:
          - 6
      surface_capteurs:
        title: Surface totale des capteurs en m²
        type:
          - number
          - 'null'
        exclusiveMinimum: 0
        default: null
        examples:
          - 10
    required:
      - id
      - description
      - orientation
      - inclinaison
      - modules
      - surface_capteurs
  https://schemas.dpe-audit.fr/production:
    $id: https://schemas.dpe-audit.fr/production
    title: Production renouvelable
    type: object
    properties:
      panneaux_photovoltaiques:
        title: Liste des panneaux photovoltaïques
        type: array
        items:
          $ref: /production/panneau_photovoltaique
    required:
      - panneaux_photovoltaiques
